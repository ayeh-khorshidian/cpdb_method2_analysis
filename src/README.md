# CellPhoneDB Method 2 – NK and CD4 T cell interaction analysis

This repository contains the analysis code and Jupyter notebook used for 
CellPhoneDB Method 2 analysis of immune cell interactions (for example NK–monocyte) 
across multiple timepoints.

## Overview

The code and notebook show how to:

- Load CellPhoneDB Method 2 outputs (means, pvalues, significant_means)
- Filter and summarize significant ligand–receptor interactions
- Generate visualizations:
  - Heatmaps
  - Bubble plots
  - Volcano plots
  - Sender–receiver bar plots
  - Ligand–receptor ranking plots

## Data

This repository does **not** include any raw or processed single-cell data, and it 
does not include any CellPhoneDB output tables. Those files belong to an external 
project and must be obtained separately.

To run the notebook, you will need a local folder structure like:

- `cpdb_out/Rplus1_vs_Lminus3/`
- `cpdb_out/Rplus1_vs_preflightAll/`
- `cpdb_out/Recovery_vs_Lminus3/`
- `cpdb_out/Recovery_vs_preflightAll/` (if available)

Each comparison folder should contain:

- `statistical_analysis_means_*.txt`
- `statistical_analysis_pvalues_*.txt`
- `statistical_analysis_significant_means_*.txt`

Update the `BASE` and `FIG_ROOT` paths in the notebook if needed.

## Figures

All plots generated by the notebook are saved in:

cpdb_out/figures_method2/


## How to run

Create and activate a Python environment.
Install the required packages, for example:
pip install cellphonedb numpy pandas matplotlib seaborn
Place your CellPhoneDB result files in cpdb_out/<comparison_name>/.
Open the notebook and run the cells in order.
